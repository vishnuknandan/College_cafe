{% extends "menu/base.html" %}
{% block content %}

<div class="max-w-2xl mx-auto mb-4">
    <a href="{% url 'cart' %}" class="text-gray-400 hover:text-white transition flex items-center gap-2 w-fit">
        <span>&larr;</span> Back to Cart
    </a>
</div>

<div class="max-w-2xl mx-auto bg-black/60 p-8 rounded-xl border border-red-900/40">
    <h2 class="text-3xl font-bold mb-6 text-center">Checkout (Cart)</h2>

    <div class="mb-8 border-b border-gray-700 pb-6">
        <h3 class="text-xl font-bold mb-4">Order Summary</h3>
        {% for item in cart_items %}
        <div class="flex justify-between items-center mb-2">
            <span>{{ item.item.name }} (x{{ item.qty }})</span>
            <span class="text-red-400">₹{{ item.total_price }}</span>
        </div>
        {% endfor %}
        <div class="border-t border-gray-700 mt-4 pt-4 flex justify-between font-bold text-lg">
            <span>Total</span>
            <span class="text-red-500">₹{{ total_price }}</span>
        </div>
    </div>

    <form method="POST" class="space-y-4">
        {% csrf_token %}

        <div style="display:none;">
            {{ form }}
        </div>

        <button type="submit"
            class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-lg mt-6 text-lg transition">
            Place Order - ₹{{ total_price }}
        </button>
    </form>
</div>

{% endblock %}